(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{4481:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/waveform",function(){return n(2324)}])},3688:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});var l=n(5893),s=n(1211);function r(e){let{as:t="p",weight:n="normal",children:r,className:a,...i}=e,o=(0,s.z)("text-slate-500","light"===n&&"font-light","normal"===n&&"font-normal","medium"===n&&"font-medium","semibold"===n&&"font-semibold","bold"===n&&"font-bold",a);return(0,l.jsx)(null!=t?t:"p",{className:o,...i,children:r})}},2324:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var l=n(5893),s=n(3688),r=n(9328),a=n(7294),i=n(9332),o=n(717),c=n(2914),u=n(1211),f=n(4295),d=n(8773),x=n(3592),m=n.n(x);function h(){let e=(0,a.useRef)(null),t=(0,i.useRouter)(),{audioFile:n}=(0,r.Y)(),[u,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[b,j]=(0,a.useState)(null),[w,N]=(0,a.useState)(50),[y,v]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let l=null;if(n&&e.current){l=URL.createObjectURL(n);let t=o.Z.create({container:e.current,url:l,barGap:1,barWidth:2,barRadius:20,barHeight:.5,waveColor:"#4F4A85",progressColor:"#383351"});t.on("ready",()=>x(!0)),t.on("finish",()=>p(!1)),t.on("timeupdate",e=>v(e)),j(t)}else n||t.replace("/");return()=>{l&&(URL.revokeObjectURL(l),null==b||b.destroy())}},[]),(0,a.useEffect)(()=>{b&&(h&&!b.isPlaying()?b.play():!h&&b.isPlaying()&&b.pause())},[h,b]),(0,a.useEffect)(()=>{u&&b&&b.setVolume(Math.max(0,Math.min(1,w/100)))},[u,b,w]),(0,l.jsx)("main",{className:"w-full h-screen grid place-items-center p-8 bg-gray-50",children:(0,l.jsxs)("main",{className:"w-full max-w-[768px] mx-auto flex flex-col items-center justify-center bg-white rounded-xl shadow-2xl border-[1px] border-gray-200 gap-4 p-8",children:[(0,l.jsx)(s.x,{children:"Waveform Page"}),!u&&(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(c.xHo,{className:"animate-spin"}),(0,l.jsx)(s.x,{children:"Analyzing..."})]}),(0,l.jsx)("div",{ref:e,className:"w-full"}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[u&&!h&&(0,l.jsx)(g,{hint:"Play",onClick:()=>p(!0),children:(0,l.jsx)(f.gmG,{size:24,color:"#fff"})}),u&&h&&(0,l.jsx)(g,{hint:"Pause",onClick:()=>p(!1),children:(0,l.jsx)(f.Wh,{size:24,color:"#fff"})}),u&&y>=0&&(0,l.jsx)(g,{hint:"Restart",onClick:()=>{b&&(b.stop(),p(!1),v(0))},disabled:0===y,children:(0,l.jsx)(d.ZHP,{size:24,color:"#fff"})}),u&&(0,l.jsx)(m(),{width:72,min:0,max:100,dataIndex:50,label:"Volume",trackSize:2,labelFontSize:"10px",valueFontSize:"10px",verticalOffset:"0rem",onChange:e=>N(e),useMouseAdditionalToTouch:!0})]})]})})}function g(e){let{className:t,children:n,hint:r,...a}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,l.jsx)("button",{className:(0,u.z)("grid place-items-center w-12 h-12 bg-sky-400 rounded-full shadow-lg disabled:bg-gray-200",t),...a,children:n}),(0,l.jsx)(s.x,{className:"text-xs text-gray-400 font-medium",children:r})]})}},1211:function(e,t,n){"use strict";function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>!!e).join(" ")}n.d(t,{z:function(){return l}})}},function(e){e.O(0,[396,365,648,332,453,888,774,179],function(){return e(e.s=4481)}),_N_E=e.O()}]);